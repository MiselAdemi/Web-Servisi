<article class="container" style="margin-top:-18px;"  ng-controller="TaskController as task">

    <br>

    <section class="well well-small mePadd" ng-init="task.getTaskById(task.IdToAddTask)" style="overflow: hidden; ">
        <h2 class="meFont" style="padding-bottom:30px;"><span class="glyphicon glyphicon-comment" ></span> Comments for {{ task.selectedTask.title }}</h2>


        <div >

            <div class="col-xs-12">
                <form ng-submit="task.sendComment(task.IdToAddTask)">
                    <textarea class="col-xs-10" style="resize: none;" ng-model="task.newComment.comment" placeholder="Comment..."></textarea>
                    <input class="col-xs-2" type="submit" name="send" value="Send" style="bottom: 8px; position: absolute;">
                    </br></br>
                </form>
            </div>

            <div class="panel panel-default" ng-init="task.getComments(task.IdToAddTask)">
                
              <div class="col-xs-10" ng-repeat="c in task.comments" ng-init="task.getTaskTo(c.userId)">
              
                <div class="thumbnail" style="overflow: hidden;">
                  <div class="caption">
                    <h4> {{ task.taskTo[$index].username }}- <small>{{ c.time }}<small></h4>
                    <p style="margin-top: 2px;">{{ c.comment }}</p>

                    <p ng-show="isAdmin" style="float: right;">
                    	<a href="#" class="btn btn-primary" role="button">Edit</a> 
                    	<a href="#" ng-click="task.removeComment(c._id)" class="btn btn-default" role="button">Remove</a>
                    </p>

                    <p ng-show="!isAdmin" style="float: right;">
                    	<a ng-if="c.userId == activeUser._id" href="#" class="btn btn-primary" role="button">Edit</a> 
                    	<a ng-if="c.userId == activeUser._id" href="#" ng-click="task.removeComment(c._id)" class="btn btn-default" role="button">Remove</a>
                    </p>


                  </div>
                </div>

            </div>

            </div>
        </div>
    </section>

</article>

